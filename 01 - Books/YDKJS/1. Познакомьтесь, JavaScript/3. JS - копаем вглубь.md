## Замыкания

>[!tip] Замыкание возникает тогда, когда функция запоминает и продолжает обращаться к переменным, находящимся вне ее области видимости.
>* Замыкания это часть природы функций.
>* Чтобы наблюдать замыкание, функция должна выполняться не в той области видимости, в которой изначально эта функция была определена.
>* Замыкание это не моментальный снимок, а запоминание прямых ссылок, сохраняющих сами переменные. Поэтому замыкания могут наблюдать обновления этих переменных со временем

```js
function counter (step = 1) {
    let count = 0;
    return function increaseCounter () {
        count = count + step;
        return count;
    }
};

let incByOne = counter(1);
let incByTwo = counter(2);
let incByThree = counter(3);
incByOne();
incByOne();
incByOne();

incByTwo();
incByTwo();
incByTwo();

incByThree();
incByThree();
incByThree();

/*

ИЛИ

*/

for (let [idx, btn] of buttons.entries()}) {
    btn.addEventListener('click', function onClick() {
        console.log(`Clicked on button (${idx})!`)
    })
}
```

## Ключевое слово this

>[!tip] При определении функция присоединяется к своей вмещающей области видимости через замыкание.

>[!tip] Область видимости представляет собой набор правил, управляющих размещение ссылок на переменные.

>[!tip] Контекст выполнения по одной из версий - реально существующий объект, свойства которого доступны функции во время ее выполнения.

>[!tip] Функция содержащая `this` является `this`-зависимой или контекстно-зависимой функцией

