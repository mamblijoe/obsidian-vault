## Утверждения (assertion)

`Утверждение` - код, который проверяет правильность выполнения программы.
==Утверждения не предназначены для показа ошибок в продакшн режиме, они для дев режима и разработки.==
Используются для ситуаций которые произойти не должны.
### Общие принципы использования утверждений

>[!info] Используйте процедуры обработки ошибок для ожидаемых событий и утверждения для событий, которые происходить не должны

>[!info] Старайтесь не помещать выполняемый код в утверждения
> Так как в продакшн режиме не должно быть утверждений

>[!info] Используйте утверждения для документирования пред- и постусловий

>[!info] Для большей устойчивости проверяйте утверждения, а затем все равно обрабатывайте ошибки

## Способы обработки ошибок

>[!info] Вернуть нейтральное значение
>Например, 0 или пустую строку

>[!info] Заменить следующий корректным блоком данных
>Если что то собирается по интервалу, то пропустить ошибочный результат и вернуть следующий успешный

>[!info] Вернуть последний успешный результат

>[!info] Подставить ближайшее допустимое значение

>[!info] Записать лог ошибки

>[!info] Вернуть код ошибки

>[!info] Вызвать обработчик ошибок

>[!info] Показать сообщение об ошибке

>[!info] Обработать ошибку в месте возникновения

>[!info] Прекратить выполнение программы

>[!info] Выбор того или иного способа обработки ошибок зависит от того что важнее, **Корректность** или **Устойчивость**
## Исключения

>[!info] Используйте исключения для оповещения других частей программы об ошибках

>[!info] Генерируйте исключения для действительно исключительных ситуаций и не используйте исключения по мелочам

>[!info] Избегайте выкидывание исключение в конструкторах

>[!info] Исключение должно содержать все необходимую информацию о причинах исключения

>[!info] Избегать пустых блоков `catch`

>[!info] Стандартизируйте работу с исключениями на проекте

## Изоляция повреждений / баррикада

Публичные методы **предполагают что получаемые данные небезопасны и отвечают за их проверку и исправление**. Здесь используются обработчики ошибок.
Приватные методы **предполагают что полученные данные прошли проверку в публичном методе и безопасны**. Здесь используются утверждения.

>[!tip] Ключевые моменты
>* Промышленный код должен обрабатывать ошибки более изощренно, чем по принципу «мусор на входе — мусор на выходе».
>* С помощью технологии защитного программирования ошибки легче находить, легче исправлять, и они наносят меньше вреда  промышленному коду.
>* Утверждения позволяют обнаружить ошибки на ранней стадии, особенно в больших системах, системах повышенной надежности  и в системах с часто изменяемым кодом.
>* Выбор способа обработки некорректных входных данных — это ключевое решение обработки ошибок, принимаемое на этапе  высокоуровневого проектирования.
>* Исключения предоставляют возможность обработки ошибок в измерении, отличном от нормального хода алгоритма. Если они  используются с осторожностью, то являются важным дополнением в интеллектуальном инструментальном наборе программиста.  Применять их следует после сравнения с другими технологиями обработки ошибок.
>* Ограничения, применяемые к промышленной версии системы, не обязательно должны относиться и ко времени разработки.  Пользуясь этим преимуществом, вы можете добавлять в отладочную версию любой код, помогающий быстро выявлять ошибки.