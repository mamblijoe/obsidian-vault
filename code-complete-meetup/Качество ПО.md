## Введение
Добро пожаловать на наш митап, посвящённый одной из ключевых тем в современной разработке — качеству программного обеспечения (ПО). Качество ПО — это совокупность характеристик, которые определяют способность программы удовлетворять требованиям пользователей, быть надёжной, производительной, безопасной и удобной в использовании. Это не только отсутствие ошибок, но и соответствие продукта ожиданиям и потребностям клиента.

Повышение качества ПО — это не просто техническая задача, а стратегическая необходимость. Почему это важно? Давайте рассмотрим:

1. **Повышение удовлетворенности пользователей**: Пользователи выбирают ПО, которое работает стабильно и предсказуемо. Высокое качество продукта способствует росту лояльности клиентов и улучшению репутации компании.
2. **Снижение затрат на поддержку**: Чем выше качество продукта на этапе разработки, тем меньше времени и ресурсов потребуется на исправление ошибок в будущем. Это позволяет команде сосредоточиться на развитии продукта, а не на постоянном устранении проблем.
3. **Быстрое время выхода на рынок**: Высокое качество ПО позволяет избегать задержек, связанных с исправлением критических багов перед релизом. Это ускоряет процесс вывода продукта на рынок и снижает риски.
4. **Снижение технического долга**: Работая над качеством, команда уменьшает количество накопившихся проблем, которые могут замедлить разработку в будущем. Это делает систему более гибкой и масштабируемой.
5. **Конкурентное преимущество**: В условиях жесткой конкуренции качество ПО может стать тем фактором, который выделит продукт на фоне других. Это важный элемент, который помогает бизнесу не только удерживать, но и привлекать новых клиентов.

В итоге, забота о качестве ПО — это не просто стремление к совершенству, а инвестиция в устойчивость и успех проекта в долгосрочной перспективе. Сегодня мы обсудим, как эффективно управлять качеством на всех этапах разработки и какие практики помогут вам достичь лучших результатов.
## 1.1 Характеристики качества ПО

Качество ПО представляет собой совокупность 2 групп характеристик -  `внешние` и `внутренние`. К внешним характеристикам относятся свойства, которые осознает пользователь программы. 

* `Корректность` — показывает отсутствие или наличие дефектов в бизнес-правилах, проекте и конечной реализации системы. 
* `Практичность` — показывает насколько легко пользователю изучать и и пользоваться ПО. Легко ли он находит нужный функционал или наоборот, тратит много времени
* `Эффективность` — показывает как ПО использует системные ресурсы пользователя. Потребляет ли оно минимальное количество ресурсов или работает только на мощных системах. 
* `Надежность` — показывает способность ПО работать в обычном режиме в условиях для которых она предназначалась. ПО с высокой надеждностью имеет низкий или средний интервал между отказами. 
* `Целостность` — показывает способность ПО не допускать пользователя в те части системы к которым он не должен иметь доступ. 
* `Адаптируемость` — показывает способность ПО без его изменения использоваться в тех областях или средах, на которые она не была ориентирована непосредственно . 
* `Правильность` — показывает степень безошибочности системы, насколько точно ПО выводит данные. 
* `Живучесть` — показывает способность ПО продолжать работу при вводе недопустимых данных, в критических сбоях, наличие таких приемов как Gracefull Degradation 
 
Внешние характеристики — единственная категория свойств ПО, которая волнует пользователей. 

Пользователей беспокоит легкость работы с ПО, а не легкость его изменения. Их заботит корректность ПО, а не удобочитаемость или структированность кода. 

Программистов волнуют и внешние характеристики ПО, и внутренние. 

* `Удобство сопровождения` — показывает насколько легко изменять систему, в целях добавления новых возможностей или внесения правок.
* `Гибкость` — показывает потенциальную возможность изменения ПО с целью использования ее в тех областях или средах, на которые она не была непосредственно ориентирована. 
* `Портируемость` — показывает насколько легко перенести ПО в среду для которой оно изначально не создавалось. 
* `Возможность повторного использования` — показывает меру и возможность использования отдельных модулей ПО в другой системе. 
* `Удобочитаемость` — показывает насколько легко читать и понимать исходники на низком уровне. 
* `Тестируемость` — показывает возможность тестирования ПО и проверки ее соответствия требованиям.
* `Понятность` — показывает насколько легко понимать систему на высоком, архитектурном уровне. Понятность характеризует согласованность системы на более общем уровне, чем удобочитаемость

Различие между внутренними и внешними характеристиками качества размыто, потому что на некотором уровне первые влияют на вторые.

Если программа недостаточно понятна или неудобна в сопровождении, в ней трудно исправлять дефекты, что в свою очередь влияет на такие внешние характеристики, как корректность и надежность. 

Суть сказанного в том, что `одни характеристики качества облегчают жизнь пользователям, а другие — программистам`. 

![[1.1-1.png]]
`Улучшение некоторых аспектов качества неизбежно приводит к ухудшению других.`  Взаимосвязь внешних характеристик качества пояснена на рис. 20-1. Подобные отношения имеют место и между внутренними характеристиками.

Живучесть характеризует способность системы продолжать работу даже в непредвиденных условиях. Стремление повысить корректность приводит к снижению живучести и наоборот. В то же время концентрация на адаптируемости повышает живучесть и наоборот

Диаграмма, показанная на рис. 20.1 иллюстрирует только типичные отношения между характеристиками качества. В конкретном проекте две характеристики могут быть связаны и нетипичным отношением. 

---
## 1.2 Методики повышения качества ПО

Повышать качество ПО можно с помощью Контроля качеста ПО

`Контроль качества ПО` — это планомерная и систематичная программа действий, призванная гарантировать, что система обладает желательными характеристиками. 

Рассмотрим несколько методик контроля качества ПО
#### Целевые характеристики качества ПО 
Одной из эффективных методик повышения качества ПО является явное определение целевых внешних и внутренних характеристик. Не имея явных целей, программисты могут сосредоточиться не на тех характеристиках качества, на которых следовало бы

### Задание целей
Явное задание целевых аспектов качества — простой и очевидный способ повышения качества ПО, но его легко упустить. 
Будут ли программисты на самом деле преследовать явные заданные цели? Да, будут, если цели будут им известны и если цели будут разумны. Программисты не могут стремиться к достижению постоянно изменяющихся или недостижимых .

Джеральд Вайнберг и Эдвард Шульман провели один очень интересный эксперимент, посвященный изучению влияния задания целевых аспектов качества на производительность труда программистов (Weinberg and Schulman, 1974). 
Они попросили пять групп разработчиков написать одну и ту же программу и указали одни и те же пять целевых характеристик качества, но каждой группе было сказано оптимизировать разные характеристики: одной — минимизировать объем используемой программой памяти, второй — обратить максимальное внимание на ясность выводимых данных, третьей — создать как можно более удобочитаемый код, четвертой — сделать программу максимально компактной, а пятой — написать программу за минимальное время. В табл. 20-1 показано, какое место заняла каждая группа по каждому целевому показателю.

![[1.2-1.png]]

Результаты впечатляют: четыре из пяти групп выполнили поставленные перед ними задачи лучше всех остальных групп. Оставшаяся группа заняла в своей категории второе место. Никакой группе не удалось преуспеть в достижении всех целей.

Что из этого следует? `То, что люди на самом деле делают то, о чем вы их просите.` Программисты действительно стремятся к достижению поставленных целей, но они должны знать, что это за цели. И еще одно следствие: как и ожидалось, целевые характеристики качества конфликтуют, поэтому преуспеть в достижении всех целей почти невозможно.

#### Явный контроль качества
Одна распространенная проблема, связанная с контролем качества, заключается в том, что качество воспринимается как вторичная цель. 

В некоторых организациях быстрое и «грязное» программирование является скорее правилом, чем исключением. Программисты вроде Глобального Гарри, которые быстро «завершают» работу над программами, наполняя при этом их дефектами, получают большее вознаграждение, чем такие программисты, как Высококачественный Генри, которые пишут прекрасные программы, убеждаясь в их практичности. Не следует удивляться тому, что в подобных организациях программисты не считают качество главным приоритетом. 

Руководители должны показать программистам, что качество — одна из важнейших целей. Явный контроль качества делает это очевидным, и программисты отвечают соответствующим образом
#### Стратегия тестирования
Тестирование программы может предоставить детальную оценку ее надежности. Частью контроля качества является разработка стратегии тестирования, учитывающей требования к системе, ее архитектуру и проект. 

Довольно часто разработчики рассматривают тестирование как главный метод и оценки, и повышения качества. Повышение качества ПО слишком объемная задача, чтобы ее можно было выполнить исключительно путем тестирования.
#### Принципы разработки ПО
Технический характер ПО во время его разработки должен контролироваться рядом принципов. Такие принципы используются на всех этапах разработки ПО, включая определение проблемы, выработку требований, конструирование и тестирование системы. 
#### Неформальные технические обзоры
Многие разработчики сами выполняют обзор своей работы до проведения формального обзора. Неформальный обзор может выражаться в самостоятельной проверке проекта или кода, а также в анализе кода вместе с коллегами
#### Формальные технические обзоры
Важный аспект управления процессом разработки ПО — `исправление проблем на этапе «наименьших затрат»`, т. е. когда на разработку системы потрачен минимальный объем средств и когда решение проблемы окажется наиболее дешевым. Для достижения этой цели служат `«ворота качества»` — периодические тесты или обзоры, позволяющие определить, достаточным ли качеством обладает система на конкретном этапе разработки, чтобы перейти к следующему этапу. `Ворота качества` обычно используются при переходе от определения требований к разработке архитектуры, от разработки архитектуры к конструированию, а также от конструирования к тестированию системы.` «Воротами»` может быть инспекция, обзор системы, выполняемый коллегами или заказчиками, а также аудит. 

`«Ворота качества»` не предполагают, что этапы выработки требований или разработки архитектуры нужно выполнить на 100%; они позволяют определить, достаточно ли хороши требования или архитектура, чтобы разработчики могли перейти к следующим этапам. В одних случаях «ворота качества» могут требовать определения только самых важных аспектов архитектуры, а в других — определения почти всех деталей. Разумеется, это зависит от природы конкретного проекта.
#### Внешний аудит
Внешний аудит — это отдельный тип технического обзора, служащий для определения статуса проекта или качества разрабатываемой системы. Аудит выполняют специалисты другой организации, которые сообщают результаты своей работы тому, кто оплачивает аудит, обычно руководителям

### Процесс разработки
Каждая из упомянутых методик явно связана с контролем качества и неявно — с процессом разработки ПО. 

Методики разработки, включающие действия, направленные на контроль качества, способствуют созданию более качественного ПО. 

Методики разработки, не являющиеся сами по себе аспектами контроля качества, также влияют на качество ПО.

#### Процедуры контроля изменений
Повышению качества ПО часто препятствуют неконтролируемые изменения. 
Неконтролируемые изменения требований могут снижать эффективность проектирования и кодирования. 
Неконтролируемые изменения проекта могут приводить к несоответствию кода и требований, несогласованности отдельных фрагментов кода и лишней трате времени на вынужденное изменение кода. 
Неконтролируемые изменения самого кода могут приводить к появлению в нем внутренних противоречий и затрудняют слежение за тем, какой код был подвергнут полному обзору и тестированию, а какой — нет. 
Изменения естественным образом вызывают дестабилизацию системы и снижение ее качества, поэтому эффективный контроль изменений — важнейшее условие достижения высокого качества ПО.
#### Оценка результатов
Только оценив результаты выполнения плана контроля качества, вы сможете узнать, эффективен ли он. 
Оценка позволяет не только узнать эффективность плана, но и изменить процесс разработки контролируемым образом с целью его улучшения. 
Кроме того, вы можете извлечь дополнительную выгоду, оценивая сами атрибуты качества: корректность, практичность, эффективность и т. д.
#### Прототипирование
Прототипированием называют разработку реалистичных моделей важных функций системы. 
Так, разработчики могут использовать прототипирование для определения удобства пользовательского интерфейса, времени выполнения важных вычислений или объема памяти, нужного для хранения типичных наборов данных. 

---
## 1.3 Относительная эффективность методик контроля качества ПО

Плохая новость - не все методики контроля качества имеют одинаковую эффективность. 
Хорошая новость - Эффективность многих методик в плане нахождения и устранения дефектов уже известна.
### Эффективность обнаружения дефектов
`Некоторые методики более эффективны в обнаружении дефектов, чем другие, к тому же разные методики приводят к обнаружению разных дефектов.` 
Одним из способов оценки методик нахождения дефектов является определение процента обнаруженных дефектов из общего числа дефектов, имеющихся в программе на конкретном этапе. Показатели эффективности нахождения дефектов при использовании некоторых популярных методик указаны в табл. 20-2.

![[1.3-1.png]]
Самое интересное в этих данных то, `что типичная эффективность обнаружения дефектов при использовании любой методики не превышает 75% и что в среднем она равна примерно 40%`. 

Какой вывод можно сделать из представленных данных, если разработчики хотят достигнуть более высокой эффективности обнаружения дефектов, они` должны полагаться на комбинацию методик.` 

Одно из подтверждений этого вывода было получено в классическом исследовании Гленфорда Майерса (Myers, 1978b). Участниками исследования были программисты, обладавшие минимум 7, а в среднем — 11-летним опытом. Исследуемая программа содержала 15 известных ошибок. Майерс попросил каждого программиста найти эти ошибки, используя одну из следующих методик:
* тестирование выполнения программы по спецификации; 
* тестирование выполнения программы по спецификации с возможностью изучения исходного кода;
* анализ/инспекция с использованием и спецификации, и исходного кода

Различия эффективности обнаружения дефектов оказались очень большими: программисты нашли от 1 до 9 дефектов. 

При использовании одной методики никакая из них не имела статистически значимого преимущества над любой другой. `В то же время любая комбинация двух методик — в том числе использование одной методики двумя независимыми группами — приводила к увеличению общего числа найденных дефектов почти вдвое.` 

Майерс обращает внимание на то, что `поиск одних видов ошибок оказывается более эффективным при непосредственном участии людей (например, при инспекции или анализе кода), а других видов — при компьютерном тестировании (Myers, 1979)`. Этот вывод подтвердился в более позднем исследовании, показавшем, что чтение кода способствует нахождению дефектов интерфейса, а функциональное тестирование — нахождению дефектов управляющих структур (Basili, Selby, and Hutchens, 1986).

Таким образом, методики поиска дефектов лучше применять в комбинации.

Эти данные также помогают понять, почему программисты, начинающие применять дисциплинированную методику устранения дефектов, такую как экстремальное программирование, добиваются более высокой степени устранения дефектов. 
Как показывает табл. 20-3, набор методик устранения дефектов, применяемых в экстремальном программировании, позволяет устранить около 90% дефектов в обычной ситуации и 97% в лучшем случае, что гораздо выше среднего для отрасли показателя, равного 85%. 
Некоторые программисты связывают этот факт с синергичными отношениями между методиками экстремального программирования, но на самом деле это просто предсказуемый результат использования конкретного набора методик устранения дефектов. 
Эффективность других комбинаций методик может оказаться такой же или даже более высокой, поэтому выбор конкретных методик устранения дефектов, позволяющих достичь желаемого уровня качества, является одним из аспектов эффективного планирования проекта.

![[1.3-2.png]]
### Стоимость нахождения дефектов
Некоторые методики обнаружения дефектов дороже других. Наиболее экономичные при прочих равных условиях имеют наименьшую стоимость в расчете на один обнаруженный дефект. Равенством прочих условий пренебрегать нельзя, поскольку стоимость методики в расчете на один дефект зависит от общего числа обнаруженных дефектов, этапа обнаружения каждого дефекта и других факторов, не связанных с экономическими аспектами конкретной методики

Как правило, эксперименты показывают, что `инспекции обходятся дешевле, чем тестирование.` В исследовании, проведенном в Лаборатории проектирования ПО, было обнаружено, что при чтении кода число дефектов, находимых в час, было примерно на 80% более высоким, чем при тестировании (Basili and Selby, 1987). В другой организации поиск дефектов проектирования с использованием блочного тестирования был вшестеро дороже, чем при использовании инспекций (Ackerman, Buchwald, and Lewski, 1989). Более позднее исследование, проведенное в IBM, показало, что на обнаружение каждой ошибки разработчики тратили 3,5 человеко-часа в случае инспекций кода и 15–25 в случае тестирования (Kaplan, 1995).
### Стоимость исправления дефектов
Стоимость нахождения дефектов — только одна часть уравнения. Другой частью является `стоимость их исправления`. На первый взгляд, методика обнаружения дефектов не играет роли: стоимость их исправления всегда будет одинаковой.

Это неверно, потому что чем дольше дефект остается в системе, тем больше средств придется потратить на его устранение. Следовательно, `методика, способствующая раннему обнаружению ошибок, снижает стоимость их исправления.` Еще важнее то, `что одни методики — такие как инспекции — позволяют определить и симптомы, и причины дефектов за один этап; другие — например, тестирование — указывают на симптомы дефекта, но требуют выполнения дополнительной работы для диагностики и устранения его причины.` В итоге одноэтапные методики оказываются гораздо более дешевыми, чем двухэтапные

В одном из подразделений Microsoft обнаружили, что при использовании инспекции кода — одноэтапной методики — на нахождение и исправление дефекта уходит 3 часа, тогда как при использовании тестирования — двухэтапной методики — на это требуется 12 часов (Moore, 1992). 

Суть сказанного в том, что эффективная программа контроля качества должна включать комбинацию методик, применяемых на всех стадиях разработки. 

---
## 1.4 Когда выполнять контроль качества ПО

Как было отмечено ранее, чем раньше ошибка внедряется в приложение, тем сильнее она переплетается с другими частями приложения и тем больше средств придется потратить на ее устранение.
Дефект в требованиях может вылиться в один или несколько дефектов в проекте, которые могут привести к появлению множества дефектов в коде. 
Ошибка в требованиях может привести к разработке дополнительных компонентов архитектуры или подтолкнуть к неудачным архитектурным решениям. 
Дополнительные архитектурные компоненты требуют написания дополнительного кода, тестов и документации. 
С другой стороны, ошибка в требованиях может привести к выбрасыванию частей архитектуры, кода и тестов. 
Если идея устранения ошибок из чертежей дома перед заливкой фундамента бетоном кажется вам разумной, то вы согласитесь и с тем, что дефекты требований и архитектуры также следует устранять до того, как они повлияют на более поздние этапы разработки.

Кроме того, ошибки в требованиях или архитектуре обычно имеют более широкие следствия, чем ошибки конструирования. Одна ошибка в архитектуре может затронуть несколько классов и десятки методов, тогда как одна ошибка конструирования скорее всего повлияет только на один метод или класс. Это еще одно убедительное обоснование как можно более раннего нахождения ошибок.

Дефекты проникают в ПО на всех стадиях разработки, поэтому контролю качества следует уделять должное внимание на всех этапах проекта, начиная с самых ранних. Контроль качества нужно внести в планы в начале работы над программой; его следует выполнять по мере прогресса; наконец, он должен подчеркивать удачное завершение работы над проектом.

---
## 1.5 Главный Закон Контроля Качества ПО

`Главный Закон Контроля Качества ПО заключается в том, что повышение качества системы снижает расходы на ее разработку`

В основе этого закона лежит одно важное наблюдение: `лучшим способом повышения производительности труда программистов и качества ПО является минимизация времени, затрачиваемого на исправление кода, чем бы оно ни объяснялось`: изменениями требований, изменениями проекта или отладкой. Средняя для отрасли производительность труда программистов эквивалентна примерно 10– 50 строкам кода на одного человека в день (с учетом всех затрат, не связанных с кодированием). Написание 10–50 строк кода требует нескольких минут, — на что же уходит остальное время?

Такая, казалось бы, низкая производительность труда частично объясняется тем, что в подобных средних показателях учитывается время, не связанное непосредственно с программированием. Время тестировщиков, руководителей, секретарей — все эти факторы включены в данный показатель. Определение требований, разработка архитектуры и другие действия, не относящиеся к кодированию, также отражены в «строках кода в день». Однако основные временные затраты объясняются не этим.

`Самый длительный этап в большинстве проектов — отладка и исправление неправильного кода.` При традиционном цикле разработки ПО эти действия занимают около 50% времени (см. раздел 3.1). 
Сокращение потребности в отладке, достигаемое благодаря предотвращению ошибок, повышает производительность труда.
Следовательно, `наиболее очевидный метод сокращения графика разработки — повышение качества ПО и снижение объема времени, уходящего на его отладку и исправление`

Этот анализ подтверждается реальными данными. В обзоре 50 проектов, потребовавших более 400 человеколет и включивших почти 3 000 000 строк кода, проведенном в Лаборатории проектирования ПО NASA, было обнаружено, что повышенное внимание к контролю качества позволяло снизить уровень ошибок, но не повышало общие расходы на разработку (Card, 1987).

В исследовании, проведенном в IBM, были получены аналогичные результаты: Программным проектам с наименьшими уровнями дефектов соответствовали самые короткие графики разработки и максимальные показатели производительности труда… `устранение дефектов на самом деле — самый дорогой и длительный этап разработки ПО` (Jones, 2000).

Это верно и для противоположного края шкалы. В одном исследовании 1985 года ученые попросили 166 профессиональных программистов написать программы по одной и той же спецификации. Итоговые программы содержали в среднем 220 строк, а на их написание ушло в среднем чуть меньше 5 часов. Результаты оказались поистине удивительными: программисты, работавшие над своими программами `средний объем времени, допустили наибольшее число ошибок`. Программисты, которым потребовалось` больше или меньше времени, допустили значительно меньше ошибок` (DeMarco and Lister, 1985). Результаты показаны на рисунке 20#2.

![[1.5-1.png]]

В сравнении с самой быстрой группой двум самым медленным группам понадобилось примерно в 5 раз больше времени для достижения результата с примерно тем же уровнем дефектов. Таким образом, на создание ПО без дефектов не всегда уходит больше времени, чем на написание ПО с дефектами.

В сравнении с традиционным циклом «кодирование — тестирование — отладка» улучшенная программа контроля качества ПО оказывается более экономичной. Она перенаправляет ресурсы от отладки и рефакторинга к предварительным этапам контроля качества. 
Предварительные этапы влияют на качество системы больше, чем последующие, поэтому время, потраченное на предварительных этапах, позволяет сэкономить больше времени потом. Результатом является снижение уровня дефектов, сокращение сроков разработки и снижение затрат.

>[!tip] Выводы
>* Высокого качества можно достичь без дополнительных затрат, но для этого вы должны перераспределить ресурсы и предотвращать дефекты вместо того, чтобы их исправлять. 
>* Стремление к одним характеристикам качества препятствует достижению других. Четко определите цели, имеющие для вас первостепенную важность, и сообщите об этом всем членам группы. 
>* Никакая методика обнаружения дефектов не является достаточно эффективной. Тестирование само по себе — не самый лучший способ устранения ошибок. Составляя программу контроля качества, предусмотрите применение нескольких методик, позволяющих обнаружить разные виды ошибок. 
>* Существуют многие эффективные методики контроля качества, применяемые как во время конструирования, так и до его начала. Чем раньше вы обнаружите дефект, тем слабее он переплетется с остальным кодом и тем меньше вреда он успеет принести. 
>* В мире программирования контроль качества ориентирован на процесс. В отличие от промышленного производства разработка ПО не включает повторяющегося этапа, влияющего на конечный продукт, поэтому качество результата определяется процессом, используемым для разработки ПО
