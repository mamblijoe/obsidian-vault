
## Function Types - тип функция

В `TypeScript` тип `Function` представляет одноименный `JavaScript` конструктор, являющийся базовым для всех функций. Тип `Function` можно указывать в аннотации типа тогда, когда о сигнатуре функции ничего не известно или в качестве значения могут выступать функции с несовместимыми сигнатурами

```ts
function f1(p1: number): string {
	return p1.toString();
}

function f2(p1: string): number {
	return p1.length;
}

let v1: Function = f1;
let v2: Function = f2;
```

## Functional Types - функциональный тип

Помимо того, что в `TypeScript` существует объектный тип `Function`, также существует функциональный тип, с помощью которого осуществляется описание сигнатур функциональных выражений.

Функциональный тип обозначается с помощью пары круглых скобок `()`, после которых располагается стрелка, а после неё обязательно указывается тип возвращаемого значения `() => type`. При наличии у функционального выражения параметров, их декларация заключается между круглых скобок `(p1: type, p2: type) => type`.

```ts
type FunctionalType = (p1: type, p2: type) => type;
```

## this в сигнатуре функции

Ни для кого не будет секретом, что в `JavaScript` при вызове функций можно указать их контекст. В львиной доле случаев, возможность изменять контекст вызова функции является нежелательным поведением `JavaScript`, но только не в случае реализации конструкции, называемой функциональная примесь (`functional mixins`).

Функциональная примесь — это функция, в теле которой происходит обращение к членам, объявленных в объекте, к которому она “примешивается”. Проблем не возникнет, если подобный механизм реализуется в динамически типизированном языке, каким является `JavaScript`.

```ts
interface IT1 { p1: string; }
function f1(this: void): void {}
function f2(this: IT1): void {}
function f3(): void {}

f1(); // Ok
f2(); // Error
f3(); // Ok

let v1 = { // v1: {f2: (this: IT1) => void;}
	f2: f2
};

v1.f2(); // Error

let v2 = { // v2: {p1: string; f2: (this: IT1) => void;}
	p1: '',
	f2: f2
};

v2.f2(); // Ok
```